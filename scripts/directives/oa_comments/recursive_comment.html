<ul class="comments">
    <li class="comment" ng-repeat="response in comment.thread" style="border-top-width: 1px;border-top-color: grey">
        <div class="comment-content">
            <div class="content">
                <h5>
                    <small>
                        <span class="author">{{ response.author.lookupValue }}</span>
                        <span>{{ response.dateTime  | date:'short' }}</span>
                        <button class="btn btn-link btn-xs" ng-click="state.replyToComment = response"><i
                                class="fa fa-mail-reply"></i> Reply
                        </button>
                        <button class="btn btn-link btn-xs"
                                ng-click="deleteResponse(rootComment, comment.thread, $index, level)"><i
                                class="fa fa-trash-o"></i> Delete
                        </button>
                    </small>
                </h5>
                <p class="comment-text">{{ response.responseText }}</p>
            </div>
        </div>
        <div ng-if="state.replyToComment === response">
            <div class="row">
                <div class="col-xs-12">
                    <form>
                        <div class="form-group">
                            <h5>
                                <small>
                                        Response
                                    <label class="pull-right">
                                        <button class="btn btn-link btn-xs"
                                                ng-click="createResponse(rootComment, response.thread)"><i
                                                class="fa fa-save"></i> Save
                                        </button>
                                        <button class="btn btn-link btn-xs"
                                                ng-click="clearTempComment()"><i class="fa fa-undo"></i> Cancel
                                        </button>
                                    </label>
                                </small>
                            </h5>
                            <textarea class="form-control" rows="2"
                                      ng-model="state.tempResponse"></textarea>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div ng-if="response.thread.length !== -1">
            <div ng-include="'bower_components/one-app-core/scripts/directives/oa_comments/recursive_comment.html'"
                 ng-init="comment = response; level = level + 1"></div>
        </div>
    </li>
</ul>
